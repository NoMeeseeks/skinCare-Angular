<div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="row shadow-lg bg-white rounded overflow-hidden" style="max-width: 1200px; width: 100%; height: 600px;">
        <!-- Sección de la imagen -->
        <div class="col-md-6 d-none d-md-block p-0">
            <img src="Usuario/Registrarte.jpg" class="img-fluid h-100 w-100" alt="Imagen de Lumi">
        </div>

        <!-- Sección del formulario con scroll si es necesario -->
        <div class="col-md-6 p-4 d-flex flex-column justify-content-center" style="overflow-y: auto; max-height: 100%;">
            <h3 class="text-center mb-4">WELCOME TO LUMI</h3>
            <form (submit)="registerUser(name.value, lastName.value, email.value, password.value, confirmPassword.value, dob.value)">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Name</label>
                        <input type="text" class="form-control" #name required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Last Name</label>
                        <input type="text" class="form-control" #lastName required>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">E-mail</label>
                    <input type="email" class="form-control" #email required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" #password required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" class="form-control" #confirmPassword required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Date of Birth</label>
                    <input type="date" class="form-control" #dob required>
                </div>
                <button type="submit" class="btn btn-secondary w-75 mx-auto d-block">REGISTER</button>
                <div class="text-center mt-3">
                    Ya tienes cuenta? <a [routerLink]="'/login'"> Haz clic aquí</a>
                </div>
            </form>


    </div>
</div>

<script>
    document.getElementById("registerForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Evita el envío del formulario

        let name = document.getElementById("name").value;
        let lastName = document.getElementById("lastName").value;
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;
        let confirmPassword = document.getElementById("confirmPassword").value;
        let dob = document.getElementById("dob").value;

        if (password !== confirmPassword) {
          Swal.fire({
            icon: "error",
            title: "Oops...",
            text: "Passwords do not match!",
          });
            return;
        }

        let userData = {
            name: name,
            lastName: lastName,
            email: email,
            password: password,
            dob: dob
        };

        localStorage.setItem("user", JSON.stringify(userData));
      const Toast = Swal.mixin({
        toast: true,
        position: "top-end",
        showConfirmButton: false,
        timer: 3000,
        timerProgressBar: true,
        didOpen: (toast) => {
          toast.onmouseenter = Swal.stopTimer;
          toast.onmouseleave = Swal.resumeTimer;
        }
      });
      Toast.fire({
        icon: "success",
        title: "Registration successful!"
      });
    });
</script>
